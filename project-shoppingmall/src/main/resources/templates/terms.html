<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <title>약관 동의</title>
    <style>
        .terms-box {
            height: 250px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }

        .terms-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .required {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center mb-4">회원가입 약관 동의</h2>
        <div class="terms-container">
            <!-- 전체 동의 체크 -->
            <div class="form-check mb-4">
                <input class="form-check-input" type="checkbox" id="agreeAll" onclick="toggleAll(this)">
                <label class="form-check-label fw-bold" for="agreeAll">
                    전체 약관에 동의합니다.
                </label>
            </div>

            <!-- 이용약관 섹션 -->
            <div class="mb-3">
                <h5 style="font-weight: 700">이용약관 <span class="required">(필수)</span></h5>
                <div class="terms-box" id="termsContent">
                    <p>이 약관은 본 서비스의 이용에 관한 조건을 규정합니다. 이용자는 서비스 이용 시 본 약관에 동의하는 것으로 간주됩니다.</p>
                    <p>- 이용자의 계정은 본인의 책임 하에 관리해야 합니다.</p>
                    <p>- 서비스 이용 시 법을 위반하거나 타인의 권리를 침해해서는 안 됩니다.</p>
                    <p>- 서비스 제공자는 필요한 경우 서비스 이용을 제한하거나 중단할 수 있습니다.</p>
                    <p>자세한 내용은 본 약관 전문을 참조하십시오.</p>
                </div>
                <div class="form-check mt-2">
                    <input class="form-check-input" type="checkbox" id="termsCheck">
                    <label class="form-check-label" for="termsCheck">이용약관에 동의합니다.</label>
                </div>
            </div>

            <!-- 개인정보 처리방침 섹션 -->
            <div class="mb-3">
                <h5 style="font-weight: 700">개인정보 처리방침 <span class="required">(필수)</span></h5>
                <div class="terms-box" id="privacyContent">
                    <p>본 개인정보 처리방침은 회원의 개인정보가 어떻게 수집, 이용, 보호되는지에 대해 설명합니다.</p>
                    <p>- 수집되는 개인정보 항목: 이름, 이메일, 전화번호 등</p>
                    <p>- 개인정보는 서비스 제공과 고객 지원을 위해 사용됩니다.</p>
                    <p>- 회원은 언제든지 자신의 개인정보를 열람, 수정, 삭제할 수 있습니다.</p>
                    <p>자세한 내용은 본 개인정보 처리방침 전문을 참조하십시오.</p>
                </div>
                <div class="form-check mt-2">
                    <input class="form-check-input" type="checkbox" id="privacyCheck">
                    <label class="form-check-label" for="privacyCheck">개인정보 처리방침에 동의합니다.</label>
                </div>
            </div>

            <!-- 회원가입 버튼 -->
            <button class="btn btn-primary w-100 mt-3" onclick="agreeTerms()">동의하고 회원가입</button>
        </div>
    </div>

    <script type="text/javascript">
        // 전체 동의 기능
        function toggleAll(source) {
            const checkboxes = document.querySelectorAll('.form-check-input');
            checkboxes.forEach(checkbox => checkbox.checked = source.checked);
        }

        // 약관 동의 확인
        function agreeTerms() {
            const termsChecked = document.getElementById('termsCheck').checked;
            const privacyChecked = document.getElementById('privacyCheck').checked;

            if (termsChecked && privacyChecked) {
                window.location.href = "/join";
            } else {
                alert("모든 필수 약관에 동의해야 회원가입이 가능합니다.");
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
